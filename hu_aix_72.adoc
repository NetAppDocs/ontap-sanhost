---
sidebar: sidebar
permalink: hu_aix_72.html
keywords: Host Utilities, aix, powervm, vios, 3.1, 7.2 netapp, ontap
summary: Describes how to use IBM AIX 7.2 and/or PowerVM VIOS 3.1 with with ONTAP
---
= configure AIX 7.2/VIOS 3.1 for FCP and iSCSI with ONTAP storage
:hardbreaks:
:toclevels: 1
:nofooter:
:icons: font
:linkattrs:
:imagesdir: ./media/

[.lead]
The AIX Host Utilities software provides management and diagnostic tools for AIX hosts that are connected to ONTAP storage. When you install the AIX Host Utilities on an AIX 7.2 and/or PowerVM (VIOS 3.1) host, you can use the Host Utilities to help you manage FCP and iSCSI protocol operations with ONTAP LUNs. 

include::_include/hu/aix-enable-san-boot.adoc[]

include::_include/hu/aix-install-host-utilities.adoc[]

link:hu_aix_61.html[Install AIX Host Utilities 6.1].


== Step 3: Confirm the multipath configuration for your host

You can use multipathing with AIX 7.2 and PowerVM to manage ONTAP LUNs. 

include::_include/hu/aix-multipathing-introduction.adoc[]

. The AIX Host Utilities load the following parameter settings for ONTAP LUNs.
+
.Show parameter settings
[%collapsible]
====
[cols=4*, options="header"]
|===
| Parameter
| Environment
| Value for AIX
| Note
| algorithm | MPIO | round_robin | Set by Host Utilities
| hcheck_cmd | MPIO | inquiry | Set by Host Utilities
| hcheck_interval | MPIO | 30 | Set by Host Utilities
| hcheck_mode | MPIO | nonactive | Set by Host Utilities
| lun_reset_spt | MPIO / non-MPIO | yes | Set by Host Utilities
| max_transfer | MPIO / non-MPIO | FC LUNs: 0x100000 bytes | Set by Host Utilities
| qfull_dly | MPIO / non-MPIO | 2-second delay | Set by Host Utilities
| queue_depth | MPIO / non-MPIO | 64 | Set by Host Utilities
| reserve_policy | MPIO / non-MPIO | no_reserve | Set by Host Utilities
| re_timeout (disk) | MPIO / non-MPIO | 30 seconds | Uses OS Default values
| dyntrk | MPIO / non-MPIO | Yes | Uses OS Default values
| fc_err_recov | MPIO / non-MPIO | Fast_fail | Uses OS Default values
| q_type | MPIO / non-MPIO | simple | Uses OS Default values
| num_cmd_elems | MPIO / non-MPIO | 1024 for AIX
3072 for VIOS
| FC EN1B, FC EN1C
| num_cmd_elems | MPIO / non-MPIO | 1024 for AIX | FC EN0G
|===
====

include::_include/hu/aix-recommended-settings-mcc-snapmirror-active-sync.adoc[]

include::_include/hu/aix-asa-aff-fas-examples.adoc[]

== Step 4: Review the known issues

== Known issues

The IBM AIX 7.2 and/or PowerVM (VIOS 3.1) with ONTAP storage release has the following known issues:

[cols=4*,options="header"]
|===
| NetApp Bug ID
| Title
| Description
| Partner ID

| link:https://mysupport.netapp.com/site/bugs-online/product/HOSTUTILITIES/1416221[1416221^] | AIX 7200-05-01 encountered I/O disruption on virtual iSCSI disks(VIOS 3.1.1.x) during storage failover | I/O disruption can happen during storage failover operations on AIX 7.2 TL5 hosts on the virtual iSCSI disks mapped through the VIOS 3.1.1.x. By default, the `rw_timeout` value of the virtual iSCSI disks (hdisk) on VIOC will be 45 seconds. If an I/O delay greater than 45 seconds happens during storage failover, an I/O failure might occur. To avoid this situation, refer to the workaround mentioned in the BURT. As per IBM, after applying APAR - IJ34739 (upcoming release) we can dynamically change the rw_timeout value using the `chdev` command. | NA


| link:https://mysupport.netapp.com/site/bugs-online/product/HOSTUTILITIES/1414700[1414700^] | AIX 7.2 TL04 encountered I/O disruption on virtual iSCSI disks(VIOS 3.1.1.x) during storage failover | I/O disruption can happen during storage failover operations on AIX 7.2 TL4 hosts on the virtual iSCSI disks mapped through the VIOS 3.1.1.x. By default, the `rw_timeout` value of vSCSI adapter on VIOC is 45 seconds. If an I/O delay of  more than 45 seconds happens during a storage failover, I/O failure might  occur. To avoid this situation, refer to the workaround mentioned in the BURT. | NA

| link:https://mysupport.netapp.com/site/bugs-online/product/HOSTUTILITIES/1307653[1307653^] | I/O issues occur on VIOS 3.1.1.10 during SFO faults and straight I/O |On VIOS 3.1.1, I/O failures might occur on NPIV client disks that are backed by 16 GB or 32 GB FC adapters.  Additionally, the `vfchost` driver might stop processing I/O requests from the client. Applying IBM APAR IJ22290 IBM APAR IJ23222 fixes the issue. | NA

|===

== What's next?

link:hu_aix_61_cmd.html[Learn abaout the AIX Host Utilties 6.1 sample command reference].

//GitHub issue #114
// BURT 1483343, 2022-16-06
