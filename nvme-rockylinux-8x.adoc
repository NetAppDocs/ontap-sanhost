---
sidebar: sidebar
permalink: nvme-rockylinux-8x.html
keywords: nvme, linux, rocky linux, enterprise
summary: How to Configure NVMe-oF Host for Rocky Linux 8.x with ONTAP
---
= Configure Rocky Linux 8.x for NVMe-oF with ONTAP storage
:hardbreaks:
:toclevels: 1
:nofooter:
:icons: font
:linkattrs:
:imagesdir: ./media/

[.lead]
include::_include/nvme/nvme-rocky-linux-introduction.adoc[]

Learn how to configure NVMe over Fabrics (NVMe-oF) hosts for Rocky Linux 8.x. For more support and feature information, see link:nvme-rockylinux-supported-features.html[Rocky Linux ONTAP support and features].

NVMe-oF with Rocky Linux 8.x has the following known limitations:

* SAN booting using the NVMe-oF protocol is not currently supported.
* In-kernel NVMe multipath is disabled by default on NVMe-oF hosts in Rocky Linux 8.x; you must enable it manually.
* NVMe/TCP is available as a technology preview due to known issues.

== Step 1: Install Rocky Linux and NVMe software and verify your configuration

include::_include/nvme/verify-software-version-introduction.adoc[]

.Steps

. Install Rocky Linux 8.x on the server. After the installation is complete, verify that you are running the required Rocky Linux 8.x kernel: 
+
[source,cli]
----
uname -r
----
+
Example Rocky Linux kernel version:
+
----
5.14.0-570.12.1.el9_6.x86_64
----

include::_include/nvme/linux-validate-software-version-rockylinux.adoc[]

== Step 2: Configure NVMe/FC and NVMe/TCP

include::_include/nvme/nvme-configure.adoc[]

== Step 3: Optionally, enable 1MB I/O for NVMe/FC

include::_include/nvme/nvme-enable-1mb-io.adoc[]

== Step 4: Verify the multipathing configuration

include::_include/nvme/nvme-validate-nvme-of-rocky-linux.adoc[]

== Step 5: Review the known issues

These are the known issues:

[cols="20,40,40",options="header"]
|===
|NetApp Bug ID	|Title	|Description	
|link:https://mysupport.netapp.com/site/bugs-online/product/HOSTUTILITIES/BURT/1479047[1479047^]	|Rocky Linux 8.x NVMe-oF hosts create duplicate persistent discovery controllers	|On NVMe-oF hosts, you can use the "nvme discover -p" command to create Persistent Discovery Controllers (PDCs). When this command is used, only one PDC should be created per initiator-target combination. However, if you are running Rocky Linux 8.x on an NVMe-oF host, a duplicate PDC is created each time "nvme discover -p" is executed. This leads to unnecessary usage of resources on both the host and the target.
|===

// 2024 SEP 2, ONTAPDOC-2345